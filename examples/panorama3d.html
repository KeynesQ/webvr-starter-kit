<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>WebVR Starter Kit - 3D Panorama Example</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    </head>
    <body>
        <script type="text/javascript" src="../build/vr.dev.js" charset="utf-8"></script>
        <script type="text/javascript">
        var canvas = document.createElement('canvas');
        var gl = null;
        var experimental = false;
        try { gl = canvas.getContext("webgl"); }
        catch (x) { gl = null; }

        if (gl == null) {
            try { gl = canvas.getContext("experimental-webgl"); experimental = true; }
            catch (x) { gl = null; }
        }
        alert(gl);
        /*
        Scene from The Gooseberry Open Movie Project - https://gooseberry.blender.org/
        Image rendered by dalai - http://code.blender.org/2015/03/1451/
        */
        document.body.addEventListener('click', function () {
            VR.scene.addEventListener('loaded', function () {alert(123)})
            VR.scene.isWebview(true);
            VR.panorama({
                src: '//gw.alicdn.com/tps/TB1usDhMVXXXXaVaXXXXXXXXXXX-3008-1504.jpg'
                //src: 'assets/gooseberry_benchmark_panorama.jpg',
                //stereo: 'vertical'
            });
            VR.requestVR();
        });
        var box = VR.box().setMaterial('wood').moveTo(0, -2, -8);
        box.text({
            font: '40pt "微软雅黑"',
            text: '阿里旅行',      
            backgroundColor: 'red'
        }).moveTo(0, 0, .5);
        VR.animate(function (delta, time) {
            box.rotateY(Math.PI * delta / 2);
        });
        </script>
    </body>
</html>
